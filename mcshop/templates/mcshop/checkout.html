{% extends 'base_generic.html' %}
{% load static %}

{% block script %}
fetch('/static/js/countries.json')
            .then((res) => res.json())
            .then((json) => {
                let html = '';
                json['countries'].forEach((el) => {
                    html += `<option value="${el.code}" ${el.code === 'RU' ? 'selected' : ''}>${el.name}</option>`;
                });
                document.getElementById('country').innerHTML = html
            });
{% endblock %}

{% block main %}
        <main class="main">

            <div class="container">
                <div class="row">
                    <div class="col-12">
                        <nav class="breadcrumbs">
                            <ul>
                                <li><a href="{% url 'mcshop:home' %}">Главная</a></li>
                                <li><a href="{% url 'mcshop:cart' %}">Корзина</a></li>
                                <li><span>Оплата</span></li>
                            </ul>
                        </nav>
                    </div>
                </div>
            </div>

            <div class="container">

                <form action="" class="needs-validation" novalidate>

                    <div class="row">

                        <div class="col-lg-8 mb-3">
                            <div class="checkout-content p-3 h-100 bg-white">
    
                                <h1 class="section-title h4"><span>Адрес доставки</span></h1>
                                
                                <div class="row g-3">

                                    <div class="col-md-6">
                                        <input type="text" id="name" class="form-control" name="name"
                                        placeholder="ФИО" aria-label="Name" required>
                                    </div>

                                    <div class="col-md-6">
                                        <input type="email" name="email" id="email" class="form-control"
                                        placeholder="Электронная почта" aria-label="Email">
                                    </div>

                                    <div class="col-md-6">
                                        <input type="tel" name="phone" id="phone" class="form-control"
                                        placeholder="Номер телефона" aria-label="Phone" required>
                                    </div>

                                    <div class="col-md-6">
                                        <select class="form-select" id="country" name="country" aria-label="Country" required>

                                        </select>
                                    </div>

                                    <div class="col-md-6">
                                        <input type="text" name="city" id="city" class="form-control"
                                        placeholder="Город" aria-label="City" required>
                                    </div>

                                    <div class="col-md-6">
                                        <input type="text" name="adress" id="adress" class="form-control"
                                        placeholder="Улица, дом, квартира" aria-label="City" required>
                                    </div>

                                    <div class="col-12">
                                        <textarea class="form-control" id="comment" rows="4" placeholder="Комментарий к заказу..."></textarea>
                                    </div>

                                </div>
                                
                            </div>
                        </div>
    
                        <div class="col-lg-4 mb-3">
                            
                            <div class="cart-summary p-3 sidebar bg-white h-100">

                                <h5 class="section-title"><span>Итог заказа</span></h5>

                                <div class="table-responsive">
                                    <table class="table">
                                        <thead>
                                            <tr>
                                                <th>Товар</th>
                                                <th>Сумма</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>
                                                    Product 1 Lorem ipsum, dolor sit amet consectetur adipisicing.
                                                    <small>(65000₽) x 1</small>
                                                </td>
                                                <td class="text-end">65300₽</td>
                                            </tr>
                                            <tr>
                                                <td>
                                                    Product 2 Lorem
                                                    <small>(62000₽) x 1</small>
                                                </td>
                                                <td class="text-end">61300₽</td>
                                            </tr>
                                            <tr>
                                                <td>
                                                    Product 3
                                                    <small>(60000Руб) x 1</small>
                                                </td>
                                                <td class="text-end">66300₽</td>
                                            </tr>
                                        </tbody>
                                        <tfoot>
                                            <tr>
                                                <td colspan="2" class="text-end">187000₽</td>
                                            </tr>
                                        </tfoot>
                                    </table>
                                </div>

                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="payment-method" id="payment-method1" value="option1" checked>
                                    <label class="form-check-label" for="payment-method1">
                                        Оплата картой
                                    </label>
                                </div>

                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="payment-method" value="option2" id="payment-method2">
                                    <label class="form-check-label" for="payment-method2">
                                        Оплата при доставке
                                    </label>
                                </div>

                                <div class="d-grid mt-3">
                                    <button type="submit" class="btn btn-dark">Оплатить</button>
                                </div>

                            </div>
    
                        </div>
    
                    </div>

                </form>

                
            </div>
            
        </main>
{% endblock %}